
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.0.7">
    
    
      
        <title>柱状图 - Python 学习记录</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.c772ddf0.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.7fa14f5b.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Microsoft+YaHei:300,400,400i,700%7C&display=fallback">
        <style>:root{--md-text-font-family:"Microsoft YaHei";--md-code-font-family:""}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Python 学习记录" class="md-header__button md-logo" aria-label="Python 学习记录" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python 学习记录
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              柱状图
            
          </span>
        </div>
      </div>
    </div>
    <div class="md-header__options">
      
    </div>
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../.." class="md-tabs__link">
      简介
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E4%BF%9D%E5%AD%98/" class="md-tabs__link md-tabs__link--active">
        数据分析
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/python%E7%AE%80%E4%BB%8B/" class="md-tabs__link">
        Python 基础
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Python 学习记录" class="md-nav__button md-logo" aria-label="Python 学习记录" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Python 学习记录
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        简介
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        数据分析
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="数据分析" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          数据分析
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E8%AF%BB%E5%8F%96%E4%B8%8E%E4%BF%9D%E5%AD%98/" class="md-nav__link">
        数据读取与保存
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/" class="md-nav__link">
        数据清洗
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86/" class="md-nav__link">
        数据整理
      </a>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_4" type="checkbox" id="__nav_2_4" checked>
      
      <label class="md-nav__link" for="__nav_2_4">
        数据可视化
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="数据可视化" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_4">
          <span class="md-nav__icon md-icon"></span>
          数据可视化
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          柱状图
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        柱状图
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    数据简介
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matplotlib" class="md-nav__link">
    matplotlib方法
  </a>
  
    <nav class="md-nav" aria-label="matplotlib方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    分组柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    堆积柱状图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seaborn" class="md-nav__link">
    seaborn方法
  </a>
  
    <nav class="md-nav" aria-label="seaborn方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    分组柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    堆积柱状图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../barh/" class="md-nav__link">
        条形图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../bar_chart_race/" class="md-nav__link">
        动态条形图/柱形图
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../scatter/" class="md-nav__link">
        散点图
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Python 基础
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Python 基础" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Python 基础
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/python%E7%AE%80%E4%BB%8B/" class="md-nav__link">
        python简介
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" class="md-nav__link">
        数据结构
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        条件语句
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5/" class="md-nav__link">
        循环语句
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        运算符
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E5%87%BD%E6%95%B0/" class="md-nav__link">
        函数
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E7%B1%BB/" class="md-nav__link">
        类
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        模块
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E9%94%99%E8%AF%AF%E4%B8%8E%E5%BC%82%E5%B8%B8/" class="md-nav__link">
        错误与异常
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../../python%E5%9F%BA%E7%A1%80/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="md-nav__link">
        正则表达式
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    数据简介
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matplotlib" class="md-nav__link">
    matplotlib方法
  </a>
  
    <nav class="md-nav" aria-label="matplotlib方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    分组柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    堆积柱状图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seaborn" class="md-nav__link">
    seaborn方法
  </a>
  
    <nav class="md-nav" aria-label="seaborn方法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    分组柱状图
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    堆积柱状图
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1"><strong>柱状图</strong><a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>绘图主要用到的是<code>matplotlib</code>库（版本为<code>3.4.1</code>）、<code>seaborn</code>库（版本为<code>0.11.1</code>）；<code>matplotlib</code>库（版本为<code>3.4.1</code>）增加些新功能，例如：<code>bar_label()</code>可以实现对柱状图、条形图自动添加标签等；要升级到此版本，请使用<code>pip install - -upgrade matplotlib</code>进行升级，更多功能请查阅<a href="https://matplotlib.org/stable/index.html">官方文档</a>；<code>seaborn</code>功能及操作，详见<a href="https://seaborn.pydata.org/">官方文档</a>。</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span><span class="c1"># 忽略错误输出</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span> <span class="c1"># jupyter note显示图片</span>
</code></pre></div>
<h2 id="_2"><strong>数据简介</strong><a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p><strong>读取数据</strong>  </p>
<p>数据是关于金砖国家的GDP和人均GDP，数据源于<a href="https://databank.shihang.org/reports.aspx?source=2&amp;series=NY.GDP.MKTP.KD&amp;country=#">世界银行</a>。</p>
<div class="highlight"><pre><span></span><code><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;BRICS.xlsx&#39;</span><span class="p">)</span>
<span class="n">data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th></th>
<th align="right">Series Name</th>
<th align="right">Country Name</th>
<th align="right">Country Code</th>
<th align="right">1990</th>
<th align="right">2000</th>
<th align="right">2011</th>
<th align="right">2012</th>
<th align="right">2013</th>
<th align="right">2014</th>
<th align="right">2015</th>
<th align="right">2016</th>
<th align="right">2017</th>
<th align="right">2018</th>
<th align="right">2019</th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td align="right">GDP</td>
<td align="right">巴西</td>
<td align="right">BRA</td>
<td align="right">1.189604e+12</td>
<td align="right">1.538706e+12</td>
<td align="right">2.296662e+12</td>
<td align="right">2.340784e+12</td>
<td align="right">2.411121e+12</td>
<td align="right">2.423272e+12</td>
<td align="right">2.337348e+12</td>
<td align="right">2.260779e+12</td>
<td align="right">2.290686e+12</td>
<td align="right">2.320859e+12</td>
<td align="right">2.347238e+12</td>
</tr>
<tr>
<td>1</td>
<td align="right">人均 GDP</td>
<td align="right">巴西</td>
<td align="right">BRA</td>
<td align="right">7.983747e+03</td>
<td align="right">8.803153e+03</td>
<td align="right">1.162781e+04</td>
<td align="right">1.174578e+04</td>
<td align="right">1.199348e+04</td>
<td align="right">1.195121e+04</td>
<td align="right">1.143115e+04</td>
<td align="right">1.096597e+04</td>
<td align="right">1.102172e+04</td>
<td align="right">1.107971e+04</td>
<td align="right">1.112174e+04</td>
</tr>
<tr>
<td>2</td>
<td align="right">GDP</td>
<td align="right">俄罗斯联邦</td>
<td align="right">RUS</td>
<td align="right">1.416187e+12</td>
<td align="right">9.515709e+11</td>
<td align="right">1.590489e+12</td>
<td align="right">1.654492e+12</td>
<td align="right">1.683535e+12</td>
<td align="right">1.695931e+12</td>
<td align="right">1.662475e+12</td>
<td align="right">1.665695e+12</td>
<td align="right">1.696107e+12</td>
<td align="right">1.739126e+12</td>
<td align="right">1.762463e+12</td>
</tr>
<tr>
<td>3</td>
<td align="right">人均 GDP</td>
<td align="right">俄罗斯联邦</td>
<td align="right">RUS</td>
<td align="right">9.570808e+03</td>
<td align="right">6.491072e+03</td>
<td align="right">1.112534e+04</td>
<td align="right">1.155358e+04</td>
<td align="right">1.173138e+04</td>
<td align="right">1.160876e+04</td>
<td align="right">1.135524e+04</td>
<td align="right">1.135640e+04</td>
<td align="right">1.155053e+04</td>
<td align="right">1.184444e+04</td>
<td align="right">1.201153e+04</td>
</tr>
<tr>
<td>4</td>
<td align="right">GDP</td>
<td align="right">印度</td>
<td align="right">IND</td>
<td align="right">5.075650e+11</td>
<td align="right">8.733574e+11</td>
<td align="right">1.763440e+12</td>
<td align="right">1.859660e+12</td>
<td align="right">1.978420e+12</td>
<td align="right">2.125025e+12</td>
<td align="right">2.294947e+12</td>
<td align="right">2.484425e+12</td>
<td align="right">2.659424e+12</td>
<td align="right">2.822169e+12</td>
<td align="right">2.940157e+12</td>
</tr>
</tbody>
</table>
<blockquote>
<ul>
<li>为方便显示，对输出结果进行了调整。  </li>
</ul>
</blockquote>
<p><strong>数据整理</strong><br />
将年份、数值分别整理成一列，用到的是<code>melt()</code>方法。</p>
<div class="highlight"><pre><span></span><code><span class="n">data_1</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Series Name&#39;</span><span class="p">,</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span><span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="mi">1990</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2011</span><span class="p">,</span><span class="mi">2012</span><span class="p">,</span><span class="mi">2013</span><span class="p">,</span><span class="mi">2014</span><span class="p">,</span><span class="mi">2015</span><span class="p">,</span><span class="mi">2016</span><span class="p">,</span><span class="mi">2017</span><span class="p">,</span><span class="mi">2018</span><span class="p">,</span><span class="mi">2019</span><span class="p">],</span>
                  <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span><span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">)</span>
<span class="n">data_1</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<table>
<thead>
<tr>
<th align="right"></th>
<th align="right">Series Name</th>
<th align="right">Country Name</th>
<th align="right">year</th>
<th align="right">constant 2010 US$</th>
</tr>
</thead>
<tbody>
<tr>
<td align="right">0</td>
<td align="right">GDP</td>
<td align="right">巴西</td>
<td align="right">1990</td>
<td align="right">1.189604e+12</td>
</tr>
<tr>
<td align="right">1</td>
<td align="right">人均 GDP</td>
<td align="right">巴西</td>
<td align="right">1990</td>
<td align="right">7.983747e+03</td>
</tr>
<tr>
<td align="right">2</td>
<td align="right">GDP</td>
<td align="right">俄罗斯联邦</td>
<td align="right">1990</td>
<td align="right">1.416187e+12</td>
</tr>
<tr>
<td align="right">3</td>
<td align="right">人均 GDP</td>
<td align="right">俄罗斯联邦</td>
<td align="right">1990</td>
<td align="right">9.570808e+03</td>
</tr>
<tr>
<td align="right">4</td>
<td align="right">GDP</td>
<td align="right">印度</td>
<td align="right">1990</td>
<td align="right">5.075650e+11</td>
</tr>
</tbody>
</table>
<p><strong>提取数据</strong><br />
比如要对2019年金砖国家的GDP和人均GDP进行可视化，可进行如下操作：</p>
<div class="highlight"><pre><span></span><code><span class="n">data_2</span> <span class="o">=</span> <span class="n">data_1</span><span class="p">[</span><span class="n">data_1</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">2019</span><span class="p">]</span>
<span class="n">gdp</span> <span class="o">=</span> <span class="n">data_2</span><span class="p">[</span><span class="n">data_2</span><span class="p">[</span><span class="s1">&#39;Series Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;GDP&#39;</span><span class="p">]</span>

<span class="k">def</span> <span class="nf">trans</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">x</span><span class="o">/</span><span class="mi">100000000</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">trans</span><span class="p">)</span><span class="c1"># 转化成亿美元，便于显示</span>

<span class="n">pergdp</span> <span class="o">=</span> <span class="n">data_2</span><span class="p">[</span><span class="n">data_2</span><span class="p">[</span><span class="s1">&#39;Series Name&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;人均 GDP&#39;</span><span class="p">]</span>
</code></pre></div>
<h2 id="matplotlib"><strong>matplotlib方法</strong><a class="headerlink" href="#matplotlib" title="Permanent link">&para;</a></h2>
<h3 id="_3"><strong>柱状图</strong><a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p><strong>金砖国家GDP柱状图</strong>  </p>
<div class="highlight"><pre><span></span><code><span class="n">matplotlib</span><span class="o">.</span><span class="n">pyplot</span><span class="o">.</span><span class="n">bar</span><span class="err">（</span><span class="n">x</span><span class="err">，</span><span class="n">height</span><span class="err">，</span><span class="n">width</span> <span class="o">=</span> <span class="mf">0.8</span><span class="err">，</span><span class="n">bottom</span> <span class="o">=</span> <span class="kc">None</span><span class="err">，</span><span class="o">*</span><span class="err">，</span><span class="n">align</span> <span class="o">=</span> <span class="s1">&#39;center&#39;</span><span class="err">，</span><span class="n">data</span> <span class="o">=</span> <span class="kc">None</span><span class="err">，</span><span class="o">**</span> <span class="n">kwargs</span><span class="err">）</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">]</span> <span class="c1"># 要显示中文，需要对字体进行设置，这里选择使用微软雅黑字体</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;figure.autolayout&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># automatically adjust subplot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span> <span class="c1"># 设置主题，可通过plt.style.availablel来查看更多主题</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span> <span class="c1"># x</span>
             <span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">],</span><span class="c1"># height</span>
            <span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="c1"># 宽度</span>
            <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="c1"># 对齐</span>
            <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;2019年金砖国家GDP&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span> <span class="c1"># 不显示纵坐标刻度</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1"> 亿美元&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># 保存图片</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;bar-GDP.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar1.png" />
​    </p>
<p><strong>金砖国家人均GDP柱状图</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span> <span class="c1"># 设置主题，可通过plt.style.availablel来查看更多主题</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">pergdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span> <span class="c1"># x</span>
             <span class="n">pergdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">],</span><span class="c1"># height</span>
            <span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="c1"># 宽度</span>
            <span class="n">align</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="c1"># 对齐</span>
            <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;2019年金砖国家人均GDP&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span><span class="n">weight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">([])</span> <span class="c1"># 不显示纵坐标刻度</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">bar</span><span class="p">,</span><span class="n">padding</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">fmt</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1"> 美元&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="c1"># 保存图片</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;bar-perGdp.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar2.png" />
​    </p>
<h3 id="_4"><strong>分组柱状图</strong><a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>由于之前使用的数据差异较大，考虑到数据显示问题，所以本案例使用<code>matplotlib</code><a href="https://matplotlib.org/stable/gallery/lines_bars_and_markers/barchart.html#sphx-glr-gallery-lines-bars-and-markers-barchart-py">官方文档</a>的数据。</p>
<div class="highlight"><pre><span></span><code><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span> <span class="c1"># 设置主题，可通过plt.style.availablel来查看更多主题</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">,</span> <span class="s1">&#39;G3&#39;</span><span class="p">,</span> <span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="s1">&#39;G5&#39;</span><span class="p">]</span>
<span class="n">men_means</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">27</span><span class="p">]</span>
<span class="n">women_means</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">labels</span><span class="p">))</span>  <span class="c1"># the label locations</span>
<span class="n">width</span> <span class="o">=</span> <span class="mf">0.35</span>  <span class="c1"># the width of the bars</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">rects1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">men_means</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">)</span>
<span class="n">rects2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">width</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">women_means</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">)</span>

<span class="c1"># Add some text for labels, title and custom x-axis tick labels, etc.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Scores&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scores by group and gender&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticks</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">rects1</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">rects2</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;bar-grouped.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar3.png" />
​    </p>
<h3 id="_5"><strong>堆积柱状图</strong><a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p>案例来源于matplotlib<a href="https://matplotlib.org/stable/gallery/lines_bars_and_markers/bar_stacked.html#sphx-glr-gallery-lines-bars-and-markers-bar-stacked-py">官方文档</a>，略有修改；绘制堆积柱状图，主要是<code>bottom</code>参数的配置。</p>
<div class="highlight"><pre><span></span><code><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">,</span> <span class="s1">&#39;G3&#39;</span><span class="p">,</span> <span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="s1">&#39;G5&#39;</span><span class="p">]</span>
<span class="n">men_means</span> <span class="o">=</span> <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">27</span><span class="p">]</span>
<span class="n">women_means</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>

<span class="n">width</span> <span class="o">=</span> <span class="mf">0.35</span>       <span class="c1"># the width of the bars: can also be len(x) sequence</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>

<span class="n">bar1</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">men_means</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">)</span>
<span class="n">bar2</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">labels</span><span class="p">,</span> <span class="n">women_means</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">men_means</span><span class="p">,</span>
       <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Scores&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scores by group and gender&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">bar1</span><span class="p">,</span><span class="n">label_type</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar_label</span><span class="p">(</span><span class="n">bar2</span><span class="p">,</span><span class="n">label_type</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;bar-stack.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar4.png" />
​    </p>
<h2 id="seaborn"><strong>seaborn方法</strong><a class="headerlink" href="#seaborn" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><span class="n">seaborn</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hue_order</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">estimator</span><span class="o">=&lt;</span><span class="n">function</span> <span class="n">mean</span> <span class="n">at</span> <span class="mh">0x7fecadf1cee0</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ci</span><span class="o">=</span><span class="mi">95</span><span class="p">,</span> <span class="n">n_boot</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">saturation</span><span class="o">=</span><span class="mf">0.75</span><span class="p">,</span> <span class="n">errcolor</span><span class="o">=</span><span class="s1">&#39;.26&#39;</span><span class="p">,</span> <span class="n">errwidth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">capsize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">dodge</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div>
<h3 id="_6"><strong>柱状图</strong><a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<p>利用<code>seaborn</code>绘图，会出现中文乱码；<code>mpl.rcParams['font.sans-serif'] = ['Microsoft YaHei']</code>命令也没有效果，建议在标题、刻度标签里通过字典或关键字的方式设置；另外，添加数据标签的方式有待探讨。</p>
<p><strong>金砖国家GDP柱状图</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span> <span class="c1"># 设置主题，共5种：darkgrid、whitegrid、dark、white、ticks</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="n">gdp</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;2019年金砖国家GDP（亿美元）&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">,</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="s1">&#39;bold&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">gdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;seaborn-gdp.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar5.png" />
​    </p>
<p><strong>金砖国家人均GDP柱状图</strong></p>
<div class="highlight"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span> <span class="c1"># 设置主题，共5种：darkgrid、whitegrid、dark、white、ticks</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">pergdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span><span class="n">y</span><span class="o">=</span><span class="n">pergdp</span><span class="p">[</span><span class="s1">&#39;constant 2010 US$&#39;</span><span class="p">],</span><span class="n">data</span><span class="o">=</span><span class="n">pergdp</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;2019年金砖国家人均GDP（美元）&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">,</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="s1">&#39;bold&#39;</span><span class="p">})</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xticklabels</span><span class="p">(</span><span class="n">pergdp</span><span class="p">[</span><span class="s1">&#39;Country Name&#39;</span><span class="p">],</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">})</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;seaborn-pergdp.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar6.png" />
​    </p>
<h3 id="_7"><strong>分组柱状图</strong><a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p>由于加载<code>seaborn</code>官网的数据出现问题，本案例将<code>motplotlib</code>对应案例的数据进行了简单加工；主要参数设置<code>hue</code>。</p>
<div class="highlight"><pre><span></span><code><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;labels&#39;</span><span class="p">:[</span><span class="s1">&#39;G1&#39;</span><span class="p">,</span> <span class="s1">&#39;G2&#39;</span><span class="p">,</span> <span class="s1">&#39;G3&#39;</span><span class="p">,</span> <span class="s1">&#39;G4&#39;</span><span class="p">,</span> <span class="s1">&#39;G5&#39;</span><span class="p">],</span><span class="s1">&#39;men_means&#39;</span><span class="p">:[</span><span class="mi">20</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">27</span><span class="p">],</span><span class="s1">&#39;women_means&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">25</span><span class="p">]})</span>
<span class="n">df1</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;labels&#39;</span><span class="p">],</span><span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;men_means&#39;</span><span class="p">,</span><span class="s1">&#39;women_means&#39;</span><span class="p">],</span>
       <span class="n">var_name</span><span class="o">=</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="n">value_name</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span> <span class="c1"># 设置主题，共5种：darkgrid、whitegrid、dark、white、ticks</span>
<span class="n">fig</span><span class="p">,</span><span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">barplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;labels&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;sex&#39;</span><span class="p">,</span><span class="n">data</span><span class="o">=</span><span class="n">df1</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Scores by group and gender&#39;</span><span class="p">,</span><span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;family&#39;</span><span class="p">:</span><span class="s1">&#39;Microsoft YaHei&#39;</span><span class="p">,</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="s1">&#39;weight&#39;</span><span class="p">:</span><span class="s1">&#39;bold&#39;</span><span class="p">})</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;seaborn-grouped.png&#39;</span><span class="p">,</span> 
            <span class="n">transparent</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># transparent=True 如果格式支持，则使保存的图形的背景透明</span>
            <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="c1"># dpi=80 控制输出的分辨率（每平方英寸的点数）</span>
            <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span> <span class="c1">#bbox_inches=&quot;tight&quot; 使图形的边界适合我们的绘图</span>
           <span class="p">)</span>
</code></pre></div>
<p>​  <br />
<img alt="png" src="../img/bar7.png" />
​    </p>
<h3 id="_8"><strong>堆积柱状图</strong><a class="headerlink" href="#_8" title="Permanent link">&para;</a></h3>
<p>官方文档并没涉及，感兴趣的可以参阅<a href="https://randyzwitch.com/creating-stacked-bar-chart-seaborn/">此处</a>。</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../../%E6%95%B0%E6%8D%AE%E6%95%B4%E7%90%86/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              数据整理
            </div>
          </div>
        </a>
      
      
        <a href="../barh/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              条形图
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="mailto:<chong_xuan_zhang@163.com>" target="_blank" rel="noopener" title="" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M476 3.2 12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.65ce87ac.min.js"></script>
      
    
  </body>
</html>